@model SearchModel

<div class="searchProductPanel">
    <form method="get"
          asp-action="SearchProducts"
          asp-controller="Product"
          id="searchProductForm">
          
        <input type="text" placeholder="Search product(s)..." 
            asp-for="Query" 
            name="searchQuery"
            id="searcherInput"
            onchange="toggleSearchButton()" />

        <select 
            asp-for="SortingType" 
            name="searchSortType"
            id="searcherSelect"
            onchange="toggleSearchButton()" >

            <option disabled selected value="">Search with...</option>
            <option>Name</option>
            <option>Cash Register Name</option>
            <option>Article Number</option>
            <option>Nomenclature Number</option>
            <option>Sale Price</option>
            <option>Purchase Price</option>
            <option>Item Group Name</option>

        </select>

        <input type="hidden" 
            asp-for="ViewName" 
            name="searchViewName" 
            value="@Model.ViewName"/>

        <input id="searchProductBtn" type="submit" value="Search"/>
    </form>
</div>

<script>
    const searchBtn = document.getElementById('searchProductBtn');
    const searchQuery = document.getElementById('searcherInput');
    const searchSelect = document.getElementById('searcherSelect');

    if (searchQuery.value != '' && searchSelect.value != '') {
        searchBtn.disabled = false;
    } else {
        searchBtn.disabled = true;
    }

    function toggleSearchButton() {
        if (searchQuery.value != '' && searchSelect.value != '') {
            searchBtn.disabled = false;
        } else {
            searchBtn.disabled = true;
        }
    }
</script>