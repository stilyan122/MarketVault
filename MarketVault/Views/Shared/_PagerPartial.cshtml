@using MarketVault.Core;
@model Pager;

<div class="paginationPagesContainer">
    @if (Model.TotalPages > 0)
    {
        <ul class="pagination justify-content-end">
            @if (Model.CurrentPage > 1)
            {
                <li class="page-item">
                    <a class="page-link"
                       asp-controller="@Model.Controller"
                       asp-action="@Model.Action"
                       asp-route-pages="1">
                        First
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link"
                       asp-controller="@Model.Controller"
                       asp-action="@Model.Action"
                       asp-route-pages="@(Model.CurrentPage - 1)">
                        Previous
                    </a>
                </li>
            }

            @for (int i = Model.StartPage; i <= Model.EndPage; i++)
            {
                <li class="page-item @(i == Model.CurrentPage ? "active" : "")">
                    <a class="page-link"
                       asp-controller="@Model.Controller"
                       asp-action="@Model.Action"
                       asp-route-pages="@i">
                        @i
                    </a>
                </li>
            }

            @if (Model.CurrentPage < Model.TotalPages)
            {
                <li class="page-item">
                    <a class="page-link"
                       asp-controller="@Model.Controller"
                       asp-action="@Model.Action"
                       asp-route-pages="@(Model.CurrentPage + 1)">
                        Next
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link"
                       asp-controller="@Model.Controller"
                       asp-action="@Model.Action"
                       asp-route-pages="@Model.TotalPages">
                        Last
                    </a>
                </li>
            }
        </ul>
    }
</div>

<script>
    // var array = Array.from(document.getElementsByClassName('page-link'));
    // array.forEach(function (element) {
    //     element.addEventListener('click', function () {
    //         document.getElementById('searchProductForm').submit();
    //     });
    // });
</script>